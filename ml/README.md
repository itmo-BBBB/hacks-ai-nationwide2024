# Сборка датасетов

Для двух основных бейзлайнов (обучение `encoder embedder-а` с нужной головой и обучение классификатора `catboost`)
датасет собирается разными способами.

## Сборка для `embedder`

Скрипт по сборке запускается как (доп. параметры сборки можно узнать через `--help`):
```bash
python build-embedder-dataset.py --train train_events.csv --target train_targets.csv
```

Предварительно обрабатывает входные CSV-файлы, объединяя, группируя и преобразуя данные.
Преобразует сгруппированные данные в строковый формат JSON, подходящий для ввода в модель.
Возвращает набор записей в формате JSON в формате pandas.

- Объединяет таблицы в одну.
- Применяет локализацию часового пояса к полю 'event_timestamp'.
- Добавляет "value_counts" на основе "viewer_uid".

## Сборка для `catboost`

Скрипт по сборке запускается как (доп. параметры сборки можно узнать через `--help`):
```bash
python build-catboost-dataset.py --train train_events.csv --target train_targets.csv
```

Предварительно обрабатывает входные CSV-файлы для обучения на основе составных ключей для юзера и видео.
- Объединяет таблицы в одну.
- Применяет локализацию часового пояса к полю 'event_timestamp'.
- Добавляет "value_counts" на основе "viewer_uid".

Возвращает предварительно обработанный фрейм данных.